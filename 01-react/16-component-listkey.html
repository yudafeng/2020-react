<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>

    <script src="./js/react.development.js"></script>
    <script src="./js/react-dom.development.js"></script>
    <script src="./js/babel.min.js"></script>

    <!-- 组件 条件渲染 -->
    <script type="text/babel">
      //  01 构建一个元素列表
      // var num = [1, 2, 3];
      // var double = num.map(item => item * 2);
      // console.log(double);
      // var number = [1, 3, 2, 6, 7];

      // const listItems = number.map(item => <li>{item}</li>);

      // function List() {
      //   return (
      //     <div>
      //       <ul>{listItems}</ul>
      //     </div>
      //   );
      // }

      // Each child in an array or iterator should have a unique "key" prop.
      // function List(props) {
      //   const listItems = props.number.map((item, index) => (
      //     <li key={index}>
      //       {item}:{index}
      //     </li>
      //   ));
      //   return <ul>{listItems}</ul>;
      // }
      // var number = [1, 3, 2, 6, 7];
      // ReactDOM.render(<List number={number} />, document.getElementById("app"));

      // 注意:元素key 放在就近数组 （map）才有意义
      // function ListeItem(props) {
      //   return (
      //     <li>
      //       {props.item}:{props.index}
      //     </li>
      //   );
      // }

      // function List(props) {
      //   const listItems = props.number.map((item, index) => (
      //     <ListeItem key={index} item={item} index={index} />
      //   ));
      //   return <ul>{listItems}</ul>;
      // }
      // var number = [1, 3, 2, 6, 7];
      // ReactDOM.render(<List number={number} />, document.getElementById("app"));

      // key 兄弟组件 必须唯一
      // 全局可以不唯一：生成两个不同数组 可以使用相同的key
      function Content(props) {
        const id = props.id;
        const title = props.title;
        const content = props.content;

        return (
          <div>
            <h3>{id}</h3>
            <h3>{title}</h3>
            <h3>{content}</h3>
          </div>
        );
      }

      function Blog(props) {
        const blogs = props.blogs;
        const sidebar = (
          <ul>
            {blogs.map(item => (
              <li key={item.id}>{item.title}</li>
            ))}
          </ul>
        );

        // [<li key=1></li>,<li key=2></li>]
        const contents = blogs.map(item => (
          <Content
            key={item.id}
            id={item.id}
            title={item.titel}
            content={item.content}
          />
        ));
        return (
          <div>
            {sidebar}
            <hr />
            {contents}
          </div>
        );
      }

      const blogs = [
        { id: 1, title: "html", content: "html cool" },
        { id: 2, title: "css", content: "css cool" }
      ];
      ReactDOM.render(<Blog blogs={blogs} />, document.getElementById("app"));
    </script>
  </body>
</html>
